**Execution Settings**

Most of the experiment settings are passed to MiniNetFED through a .yaml file that is sent as an argument at the beginning of execution.

```bash
sudo python3 main.py config.yaml
```

It's possible to edit the example file left in the MiniNetFED directory or create your own.

The configuration file structure is as follows:

```jsx
general:
experiment:
network:
server:
clients:
```

**General**

```jsx
general: 
  n_available_cpu: int;
  broker_image: string;
  experiments_folder: string;
```

*   **broker_image:** Image to be used to instantiate a docker container for the MQTT broker. It's recommended to use the standard image provided with MiniNetFED, but it's possible to create your own custom broker modifying this option.
*   **experiments_folder:** Where the experiment folders are created.

**Experiment**

```jsx
experiment:
  new_experiment: (true or false)
  experiment_name: (string)
  trainer_mode: (string)
  max_n_rounds: (int)
  stop_accuracy: (float where 0 <= n <= 1)
  min_trainers: (int)
```

*   **new\_experiment:** Defines whether MiniNetFED should automatically create a new folder for the experiment or continue filling in an existing experiment folder.

    *   True: Finds or creates a directory for the experiment in the following format:

        ```bash
(experiments_folder)/YYYY_MM_DD_(experiment_name)
```

    *   False: Finds the experiment folder by name.

        Note that if the directory does not exist, MiniNetFED will show an error.

        ```bash
(experiments_folder)/(experiment_name)
```
*   **experiment\_name:** The name of the experiment to reference the folder where its results will be placed.
*   **trainer\_mode:** This option is passed directly to the Trainer. It selects predefined data division modes and Trainer operation modes.
*   **max\_n\_rounds:** This option is passed to the server to define the maximum number of rounds of communication between the server and client, defining a stopping condition.
*   **stop\_accuracy:** This option defines a stopping condition based on the average accuracy of the model generated by combining models generated by each trainer.
*   **min\_trainers:** Defines the minimum number of connected clients before initializing training.

**Nota:**

The first condition to be met will be responsible for interrupting execution. The cause of termination will be recorded in the training log.

**Network**

```jsx
network_monitor_script: string;
network_monitor_image: string;
network_components: int;
```

*   **network\_monitor\_script:** Address of the network monitor script. Use the standard script left in the example file or modify to create a custom monitor.
*   **network\_monitor\_image:** Image used in the network monitor container. Use the standard image left in the example file or modify to create a custom monitor.
*   **network\_components:** Number of switches in the network for creating complex network topologies. In a simple network, leave the value as "1"

**Server**

```jsx
memory: (int)m
vCPU_percent: (int 0 - 100)
image: (string)
volume: (string)
conection: (int)
script: (string)
```

*   **memory:** Maximum amount of memory to be used by the server docker.
*   **vCPU\_percentage:** Percentage of available processing power dedicated to the server. For more details, consult the section on vCPU in the documentation.
*   **image:** Docker image to be used in the server. Use the standard image left in the example file or modify to create a custom server.
*   **Connection:** Defines which switch you want to connect the server to. The value is a number from 1 to N representing the ID of the switch. This option is used to create more complex network topologies.
*   **Script:** Address of the server execution file.

**Clients**

This option is dedicated to defining one or more types of clients to be instantiated during the experiment.

The client structure comprises a list with the types of clients

```jsx
clients:
-   amount: (int)
    name: (string)
    memory: (string)m
    vCPU_percent: (int 0 - 100)
    image: (string)
    script:(string)
    connection: (int)
    loss: (float 0 <= n <= 1)
    delay: (int)ms
    bw: (int)

  - (other type of client)
...
```

*   **amount:** Number of clients of the current type that will be instantiated during experiment execution.
*   **name:** Name of the client type. Do not use space or special characters. In case of problems during instantiation, check if a prohibited character was used.
*   **memory:** Maximum amount of memory to be used by each instance of client.
*   **vCPU\_percentage:** Percentage of available processing power dedicated to each instance of client. For more details, consult the section on vCPU in the documentation.
*   **image:** Docker image to be used in the client. Use the standard image left in the example file or modify to create a custom client.
*   **Script:** Address of the client execution file of the current type.
*   **Connection:** Defines which switch you want to connect the client of the current type to. The value is a number from 1 to N representing the ID of the switch. This option is used to create more complex network topologies. For example, one type of client may be connected to switch 1, and another type may be connected to switch 2, and between switches 1 and 2 there exists a predefined delay, bandwidth, and loss.
*   **loss:** Percentage of data loss between the client and the switch it is connected to.
*   **delay:** Delay in milliseconds that the connection between the switch and the client will have.
*   **bw:** Bandwidth between the client and the switch it is connected to. The standard unit is Mbps.